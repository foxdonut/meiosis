<!DOCTYPE html><html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="normalize.css">
<link rel="stylesheet" href="skeleton.css">
<link rel="stylesheet" href="prism.css">
<link rel="stylesheet" href="style.css">
</head>
<body class="container">
<script src="https://flems.io/flems.html" type="text/javascript" charset="utf-8"></script>
<script src="prism.js" type="text/javascript"></script>
<h1>Meiosis Wiki</h1><p><a href="toc.html">Table of Contents</a></p>
  <div id="flems1" class="flemscode" style="height:800px"></div>

  <script>
    window.Flems(flems1, {
      files: [{name: "nest.js", content: "const I = value => value;\n\nconst nestUpdate = (update, path, wrap) => patch =>\n  update(wrap({ [path]: patch }));\n\nconst nest = (create, update, path, wrap) => {\n  const component = create(nestUpdate(update, path, wrap));\n  const result = P({}, component);\n  if (component.model) {\n    result.model = () => ({ [path]: component.model() });\n  }\n  if (component.view) {\n    result.view = model => component.view(model[path]);\n  }\n  return result;\n};\n", compiler: "babel"},{name: "temperature.js", content: "const add = x => y => x + y;\n\nconst createActions = update => ({\n  editDate: evt =>\n    update(O({ date: evt.target.value })),\n\n  increase: amount => _evt =>\n    update(O({ value: O(add(amount)) })),\n\n  changeUnits: _evt => update(O(model => {\n    if (model.units === \"C\") {\n      return P(model, {\n        units: \"F\",\n        value: Math.round( model.value * 9 / 5 + 32 )\n      });\n    }\n    else {\n      return P(model, {\n        units: \"C\",\n        value: Math.round( (model.value - 32) / 9 * 5 )\n      });\n    }\n  }))\n});\n\nconst createView = actions => model => (\n  <div>\n    <div>Date: <input type=\"text\" size=\"10\" value={model.date} onChange={actions.editDate}/></div>\n    <span>Temperature: {model.value}&deg;{model.units} </span>\n    <div>\n      <button onClick={actions.increase(1)}>Increase</button>\n      <button onClick={actions.increase(-1)}>Decrease</button>\n    </div>\n    <div>\n      <button onClick={actions.changeUnits}>Change Units</button>\n    </div>\n  </div>\n);\n\nconst createTemperature = update => ({\n  model: () => ({\n    date: \"\",\n    value: 20,\n    units: \"C\"\n  }),\n\n  view: createView(createActions(update))\n});\n", compiler: "babel"},{name: "app.js", content: "const createApp = update => {\n  const air = nest(createTemperature, update, \"air\", I);\n  const water = nest(createTemperature, update, \"water\", I);\n\n  return {\n    model: () => P(air.model(), water.model()),\n    view: model => (\n      <div>\n        {air.view(model)}\n        {water.view(model)}\n      </div>\n    )\n  };\n};\n", compiler: "babel"},{name: "index.js", content: "/* global ReactDOM, flyd */\n\nconst update = flyd.stream();\nconst app = createApp(update);\nconst models = flyd.scan(P, app.model(), update);\n\nconst element = document.getElementById(\"app\");\nmodels.map(model => ReactDOM.render(app.view(model), element));\n\n// Only for using Meiosis Tracer in development.\nmeiosis.trace({ update, dataStreams: [ models ], toUpdate: I });\nmeiosisTracer({ selector: \"#tracer\" });\n", compiler: "babel"},{name: "app.html", content: "<div id=\"app\"></div>\n<div id=\"tracer\"></div>\n"},{name: "app.css", content: "body, button {\n  font-family: sans-serif;\n  font-size: 1rem;\n}\nbutton, button.light {\n  cursor: pointer;\n  padding: 2px 8px 2px 8px;\n  color: #5755d9;\n  background-color: #ffffff;\n  border: 1px solid #5755d9;\n  margin: 4px;\n}\nbutton:hover {\n  background-color: #eeeeee;\n}\nbutton.dark {\n  background-color: #5755d9;\n  color: #ffffff;\n}\nbutton.dark:hover {\n  background-color: #7775f9;\n}\n.temperature {\n  margin-bottom: 20px;\n}"}],
      links: [{name: "react", type: "js", url: "https://unpkg.com/react@16.3.1/umd/react.development.js"},{name: "react-dom", type: "js", url: "https://unpkg.com/react-dom@16.3.1/umd/react-dom.development.js"},{name: "flyd", type: "js", url: "https://unpkg.com/flyd@0.2.6/flyd.js"},{name: "patchinko", type: "js", url: "https://unpkg.com/patchinko@3.0.0"},{name: "meiosis", type: "js", url: "https://unpkg.com/meiosis@1.3.0/dist/meiosis.min.js"},{name: "meiosis-tracer", type: "js", url: "https://unpkg.com/meiosis-tracer@1.3.0/dist/meiosis-tracer.min.js"}],
      middle: 75
    })
  </script>


<p><a href="toc.html">Table of Contents</a></p>
<hr>
<p>Meiosis is developed by <a href="http://twitter.com/foxdonut00">@foxdonut00</a> / <a href="https://github.com/foxdonut">foxdonut</a> and is released under the MIT license.</p>

</body></html>