<!DOCTYPE html>
<html>
<head>
<title>Meiosis Documentation</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="normalize.css">
<link rel="stylesheet" href="skeleton.css">
<link rel="stylesheet" href="prism.css">
<link rel="stylesheet" href="docs.css">
</head>
<body class="container">
<script src="prism.js" type="text/javascript"></script>
<script src="flems.html" type="text/javascript" charset="utf-8"></script>
<div class="lesson">
<h1><a href="https://meiosis.js.org/setup">meiosis-setup</a> Documentation</h1><div class="docs-nav">
  <a href="setup-js-stream-implementation.html"><span class="nav-prev">
        <span class="arrow">&#x2B05;</span>
        <span class="title">Stream Implementation</span>
      </span></a>
  <a class="toc" href="setup-js-toc.html">&#x2B06; Contents</a>
</div>

<h2>Utilities</h2><p><code>meiosis-setup</code> provides a small set of utility functions that you may find useful in your projects.</p>
<h3>get</h3><pre><code class="language-js">const get = (object, path)
</code></pre>
<p>Gets a nested property using <code>path</code> (an array of properties) from an object in a safe manner. If the
object is <code>null</code> or <code>undefined</code>, or if any property along the path is <code>null</code> or <code>undefined</code>, the
function returns <code>undefined</code>.</p>
<pre><code class="language-js">get({ duck: { color: &#39;yellow&#39; } }, [&#39;duck&#39;, &#39;color&#39;]) // returns &#39;yellow&#39;
get({ duck: { color: &#39;yellow&#39; } }, [&#39;bird&#39;, &#39;color&#39;]) // returns undefined
get(null, [&#39;bird&#39;, &#39;color&#39;]) // returns undefined
</code></pre>
<h3>updateFormValue</h3><pre><code class="language-js">const updateFormValue = (cell, path, fn)
</code></pre>
<p>Convenience function to update a form value. Pass the Meiosis cell and the state property (such as
<code>&#39;firstName&#39;</code>) or path (such as <code>[&#39;person&#39;, &#39;firstName&#39;]</code>) into which to update the value. Returns a
function that you can pass to a DOM handler, such as <code>oninput</code> (Mithril) or <code>onInput</code> (Preact,
React). For example:</p>
<pre><code class="language-js">// Using Mithil
m(&#39;input[type=text]&#39;, { oninput: updateFormValue(cell, &#39;firstName&#39;) })
m(&#39;input[type=text]&#39;, { oninput: updateFormValue(cell, [&#39;person&#39;, &#39;firstName&#39;]) })

// Using Preact/React
&lt;input type=&quot;text&quot; onInput={updateFormValue(cell, &#39;firstName&#39;)}/&gt;
&lt;input type=&quot;text&quot; onInput={updateFormValue(cell, [&#39;person&#39;, &#39;firstName&#39;])}/&gt;
</code></pre>
<p>Optionally, you can pass a function to change the value before it is updated in the state. For
example:</p>
<pre><code class="language-js">updateFormValue(cell, &#39;firstName&#39;, value =&gt; value.toUpperCase())
</code></pre>
<p>In the example above, if the user types <code>Fred</code> then the state will contain <code>{ firstName: &#39;FRED&#39; }</code>.</p>
<h3>updateFormIntValue</h3><p>Similar to <code>updateFormValue</code>, but parses the input using <code>parseInt</code> and only updates the state if
the result is valid.</p>
<pre><code class="language-js">// Using Mithil
m(&#39;input[type=text]&#39;, { oninput: updateFormIntValue(cell, &#39;quantity&#39;) })
m(&#39;input[type=text]&#39;, { oninput: updateFormIntValue(cell, [&#39;item&#39;, &#39;quantity&#39;]) })

// Using Preact/React
&lt;input type=&quot;text&quot; onInput={updateFormIntValue(cell, &#39;quantity&#39;)}/&gt;
&lt;input type=&quot;text&quot; onInput={updateFormIntValue(cell, [&#39;item&#39;, &#39;quantity&#39;])}/&gt;
</code></pre>
<h3>updateFormFloatValue</h3><p>Similar to <code>updateFormValue</code>, but parses the input using <code>parseFloat</code> and only updates the state if
the result is valid.</p>
<pre><code class="language-js">// Using Mithil
m(&#39;input[type=text]&#39;, { oninput: updateFormFloatValue(cell, &#39;salary&#39;) })
m(&#39;input[type=text]&#39;, { oninput: updateFormFloatValue(cell, [&#39;person&#39;, &#39;salary&#39;]) })

// Using Preact/React
&lt;input type=&quot;text&quot; onInput={updateFormFloatValue(cell, &#39;salary&#39;)}/&gt;
&lt;input type=&quot;text&quot; onInput={updateFormFloatValue(cell, [&#39;person&#39;, &#39;salary&#39;])}/&gt;
</code></pre>
<div class="docs-nav">
  <a href="setup-js-stream-implementation.html"><span class="nav-prev">
        <span class="arrow">&#x2B05;</span>
        <span class="title">Stream Implementation</span>
      </span></a>
  <a class="toc" href="setup-js-toc.html">&#x2B06; Contents</a>
</div>

<hr>
<div>
<a href="https://meiosis.js.org">Meiosis</a> is developed by foxdonut
(<a href="https://twitter.com/foxdonut00">Twitter</a> /
<a href="https://github.com/foxdonut">GitHub</a>) and is released under the MIT license.
</div>
</div>
</body>
</html>